(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[962],{5364:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/order-history",function(){return a(888)}])},2010:function(e,s,a){"use strict";var r=a(5893),l=a(1436),i=a(7814),c=a(1664),d=a.n(c);let n="p-2 my-list-item";s.Z=function(e){let{current:s}=e;return(0,r.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h4",{className:"mb-0 fw-semibold py-2",children:"Account"})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,r.jsx)(d(),{legacyBehavior:!0,href:"/account/profile",children:(0,r.jsxs)("a",{className:n+("profile"==s?" active":""),children:[(0,r.jsx)(i.G,{icon:l.U6l,className:"me-2",fixedWidth:!0}),"My profile"]})}),(0,r.jsx)(d(),{legacyBehavior:!0,href:"/account/current-orders",children:(0,r.jsxs)("a",{className:n+("current-orders"==s?" active":""),children:[(0,r.jsx)(i.G,{icon:["fas","shopping-bag"],className:"me-2",fixedWidth:!0}),"Current orders"]})}),(0,r.jsx)(d(),{legacyBehavior:!0,href:"/account/order-history",children:(0,r.jsxs)("a",{className:n+("order-history"==s?" active":""),children:[(0,r.jsx)(i.G,{icon:["fas","truck"],className:"me-2",fixedWidth:!0}),"Orders history"]})}),(0,r.jsx)(d(),{legacyBehavior:!0,href:"/account/favorite-list",children:(0,r.jsxs)("a",{className:n+("favorite-list"==s?" active":""),children:[(0,r.jsx)(i.G,{icon:["fas","heart"],className:"me-2",fixedWidth:!0}),"My favorites"]})})]})})]})}},888:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return o}});var r=a(5893),l=a(7294),i=a(9566),c=a(2010),d=a(7814),n=function(e){let{id:s,total:a,address:l,items:i,status:c,date:n}=e,t="cancelled"==c;return(0,r.jsxs)("div",{className:"card border-0 shadow-sm mb-3",children:[(0,r.jsx)("div",{className:"card-header py-3 bg-white",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col d-flex",children:(0,r.jsxs)("span",{className:"fw-semibold h5 my-auto",children:["Order ID: ",s]})}),(0,r.jsx)("div",{className:"col-auto",children:"Order Detail"})]})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("div",{className:"row gx-2 gy-3",children:[(0,r.jsxs)("div",{className:"col-md-5",children:[(0,r.jsx)("h6",{className:"fw-bold",children:"Shipping Address"}),(0,r.jsxs)("div",{className:"vstack text-dark small",children:[(0,r.jsxs)("span",{children:["region: ",l.region]}),(0,r.jsxs)("span",{children:["city: ",l.city]}),(0,r.jsxs)("span",{children:["street: ",l.street]}),(0,r.jsxs)("span",{children:["Maplink:\xa0",l.maplink?(0,r.jsx)("a",{href:l.maplink,target:"_blank",children:l.maplink}):"none"]})]})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("div",{className:"text-success",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"fw-bold",children:(0,r.jsx)(d.G,{icon:["fas","money-bill-wave"],size:"lg"})}),(0,r.jsx)("span",{className:"ms-2 small",children:"Cash on delivery"})]})}),(0,r.jsxs)("div",{children:["Products: ",i]}),(0,r.jsxs)("div",{className:"fw-semibold",children:["Total: ",a," ETB"]})]}),(0,r.jsxs)("div",{className:"col-md-3",children:[(0,r.jsx)("h6",{className:"fw-bold",children:"Status"}),(0,r.jsx)("div",{className:t?"text-danger":"text-success",children:(0,r.jsx)("span",{className:"fw-semibold",children:t?"CANCELLED":"DELIVERED"})})]})]})}),(0,r.jsxs)("div",{className:"card-footer small border-0 py-3 text-muted",children:["Order Date: ",n]})]})},t=a(2503);function h(){let e={orderID:"pending...",status:"pending...",total:0,items:[],address:{region:"pending...",city:"pending",street:"pending..."}},[s,a]=(0,l.useState)([e,e,e,e]);return(0,l.useEffect)(()=>{localStorage.getItem("token")?i.Z.get("/api/users/order-history").then(e=>{a(e.data),console.log(e.data)}):router.push({pathname:"/auth/login"})},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"bg-secondary",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row py-4 px-2",children:(0,r.jsx)("nav",{"aria-label":"breadcrumb col-12",children:(0,r.jsxs)("ol",{className:"breadcrumb mb-1",children:[(0,r.jsx)("li",{className:"breadcrumb-item",children:(0,r.jsx)("a",{href:"#",children:"Home"})}),(0,r.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Order History"})]})})})})}),(0,r.jsx)("div",{className:"container py-4",children:(0,r.jsxs)("div",{className:"row g-3",children:[(0,r.jsx)("div",{className:"col-lg-3",children:(0,r.jsx)(c.Z,{current:"order-history"})}),(0,r.jsxs)("div",{className:"col-lg-9",children:[s.map(e=>(0,r.jsx)(n,{id:e.orderID,status:e.status,total:e.total,address:e.address,items:e.items.length,date:e.createdAt},e.orderID)),(0,r.jsx)("nav",{className:"float-end mt-3",children:(0,r.jsxs)("ul",{className:"pagination",children:[(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",href:"#",children:"Prev"})}),(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",href:"#",children:"1"})}),(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",href:"#",children:"2"})}),(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",href:"#",children:"3"})}),(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",href:"#",children:"Next"})})]})})]})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})}h.getLayout=e=>(0,r.jsx)(t.Z,{simpleHeader:!0,children:e});var o=h}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5364)}),_N_E=e.O()}]);