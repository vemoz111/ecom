(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{9104:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/forgot-password",function(){return s(3917)}])},3917:function(e,a,s){"use strict";s.r(a);var l=s(5893),t=s(9566),n=s(1664),o=s.n(n),c=s(7294),r=s(2503),d=s(1163);function i(){let e=(0,d.useRouter)(),[a,s]=(0,c.useState)(!1),[n,r]=(0,c.useState)(),[i,m]=(0,c.useState)(),[h,u]=(0,c.useState)(),[x,p]=(0,c.useState)();return(0,c.useEffect)(()=>{localStorage.getItem("token")&&e.push({pathname:"/"})},[]),(0,l.jsxs)("div",{className:"container py-3",children:[(0,l.jsx)("div",{className:"row my-4",children:(0,l.jsx)("div",{className:"col-md-6 offset-md-3 col-lg-4 offset-lg-4",children:(0,l.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,l.jsxs)("div",{className:"card-body px-4",children:[(0,l.jsx)("h4",{className:"card-title fw-bold mt-2 mb-3",children:"Forgot Password"}),(0,l.jsxs)("div",{className:"row g-3",children:[a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Enter The code Code"}),(0,l.jsx)("input",{value:n,onChange:e=>r(e.target.value),type:"number",className:"form-control",placeholder:"here..."})]}),(0,l.jsx)("div",{className:"col-md-12 mt-3",id:"Send",children:(0,l.jsx)("button",{onClick:()=>{t.Z.post("/api/auth/confirm-code/".concat(n)).then(e=>{console.log(e.data),r(e.data),m(!0)}).catch(e=>{console.log(e.response.data)})},className:"btn btn-primary w-100",children:"Verify"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Your email"}),(0,l.jsx)("input",{value:x,onChange:e=>p(e.target.value),type:"email",className:"form-control",placeholder:"name@gmail.com"})]}),(0,l.jsx)("div",{className:"col-md-12 mt-3",id:"Send",children:(0,l.jsx)("button",{onClick:()=>{console.log(x),t.Z.post("/api/auth/forgot-password",{email:x}).then(e=>{s(!0)}).catch(e=>{console.log(e.response.data)})},className:"btn btn-primary w-100",children:"Send"})})]}),i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"New Password"}),(0,l.jsx)("input",{value:h,onChange:e=>u(e.target.value),type:"email",className:"form-control",placeholder:"name@gmail.com"})]}),(0,l.jsx)("div",{className:"col-md-12 mt-3",id:"Send",children:(0,l.jsx)("button",{onClick:()=>{t.Z.post("/api/auth/change-password/".concat(n.code),{newPassword:h}).then(a=>{console.log(a.data),t.Z.defaults.headers.common.Authorization=a.data.token,localStorage.setItem("token",a.data.token),e.push({pathname:"/"})})},className:"btn btn-primary w-100",children:"Reset"})})]}),(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)("div",{className:"border border-1 rounded bg-light px-3 py-2 small",children:"We will send a verification code to this email"})})]})]}),(0,l.jsx)("hr",{className:"text-muted my-0"}),(0,l.jsxs)("div",{className:"text-center p-3",children:["Donâ€˜t hanve an account?"," ",(0,l.jsx)(o(),{legacyBehavior:!0,href:"/auth/sign-up",children:(0,l.jsx)("a",{className:"text-decoration-none fw-medium",children:"Register"})})]})]})})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})}i.getLayout=e=>(0,l.jsx)(r.Z,{simpleHeader:!0,hideAuth:!0,children:e}),a.default=i}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9104)}),_N_E=e.O()}]);