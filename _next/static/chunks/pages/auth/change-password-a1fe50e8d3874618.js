(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{9565:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/change-password",function(){return s(5740)}])},5740:function(e,a,s){"use strict";s.r(a);var l=s(5893),n=s(9566);s(1664);var t=s(7294),c=s(2503),o=s(1163);function r(){let e=(0,o.useRouter)(),[a,s]=(0,t.useState)(!1),[c,r]=(0,t.useState)(),[d,i]=(0,t.useState)(),[m,h]=(0,t.useState)(),[u,x]=(0,t.useState)();return(0,l.jsxs)("div",{className:"container py-3",children:[(0,l.jsx)("div",{className:"row my-4",children:(0,l.jsx)("div",{className:"col-md-6 offset-md-3 col-lg-4 offset-lg-4",children:(0,l.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,l.jsxs)("div",{className:"card-body px-4",children:[(0,l.jsx)("h4",{className:"card-title fw-bold mt-2 mb-3",children:"Change Password"}),(0,l.jsxs)("div",{className:"row g-3",children:[a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Enter The code Code"}),(0,l.jsx)("input",{value:c,onChange:e=>r(e.target.value),type:"number",className:"form-control",placeholder:"here..."})]}),(0,l.jsx)("div",{className:"col-md-12 mt-3",id:"Send",children:(0,l.jsx)("button",{onClick:()=>{n.Z.post("/api/auth/confirm-code/".concat(c)).then(e=>{console.log(e.data),r(e.data),i(!0)}).catch(e=>{console.log(e.response.data)})},className:"btn btn-primary w-100",children:"Verify"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Your email"}),(0,l.jsx)("input",{value:u,onChange:e=>x(e.target.value),type:"email",className:"form-control",placeholder:"name@gmail.com"})]}),(0,l.jsx)("div",{className:"col-md-12 mt-3",id:"Send",children:(0,l.jsx)("button",{onClick:()=>{console.log(u),n.Z.post("/api/auth/forgot-password",{email:u}).then(e=>{s(!0)}).catch(e=>{console.log(e.response.data)})},className:"btn btn-primary w-100",children:"Send"})})]}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"New Password"}),(0,l.jsx)("input",{value:m,onChange:e=>h(e.target.value),type:"email",className:"form-control",placeholder:"name@gmail.com"})]}),(0,l.jsx)("div",{className:"col-md-12 mt-3",id:"Send",children:(0,l.jsx)("button",{onClick:()=>{n.Z.post("/api/auth/change-password/".concat(c.code),{newPassword:m}).then(a=>{console.log(a.data),n.Z.defaults.headers.common.Authorization=a.data.token,localStorage.setItem("token",a.data.token),e.push({pathname:"/"})})},className:"btn btn-primary w-100",children:"Reset"})})]}),(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)("div",{className:"border border-1 rounded bg-light px-3 py-2 small",children:"We will send a verification code to this email."})})]})]}),(0,l.jsx)("hr",{className:"text-muted my-0"})]})})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})}r.getLayout=e=>(0,l.jsx)(c.Z,{simpleHeader:!0,hideAuth:!0,children:e}),a.default=r}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9565)}),_N_E=e.O()}]);